import{_ as b,a as A}from"./TheNavbar.7caaf9ad.js";import{_ as T,d as k,A as t,u as x,i as _,B as I,b as L,c as N,f as a,g as s,T as d,o as r,h as n,k as f,C as S,j as D}from"./index.0bf15bbf.js";import{u as y}from"./account.0266a86d.js";import{u as v}from"./users.b65d5397.js";import{u as M}from"./system.0f2e98dc.js";import"./data.ff9c2fa5.js";import"./api.068af793.js";const j={class:"fixed top-0 bottom-0 bg-theme w-full"},F=k({__name:"EmployeePage",setup(R){const l=t(()=>y().accountId),c=t(()=>{var e;return(e=v().user(Number(l.value)))==null?void 0:e.roles}),g=t(()=>{var u,o;let e=[];return(u=c.value)!=null&&u.includes(1)&&(e=[...e,"staff"]),(o=c.value)!=null&&o.includes(2)&&(e=[...e,"leader","result"]),e}),i=x(),p=t(()=>String(i.currentRoute.value.path.split("/")[2]).toLowerCase()),m={staff:{title:"\u54E1\u5DE5\u4E92\u8A55\u586B\u5BEB",url:"/employee/staff",icon:"staff"},leader:{title:"\u4E3B\u7BA1\u4E92\u8A55\u586B\u5BEB",url:"/employee/leader",icon:"leader"},result:{title:"\u6B77\u53F2\u7D50\u679C\u67E5\u8A62",url:"/employee/result",icon:"result"},calendar:{title:"\u6642\u9593\u8EF8",url:"/employee/calendar",icon:"calendar"}},h=t(()=>g.value.map(e=>({name:e,...m[e]})));_("setThemeColor",()=>null)("employee"),_("switchPosition",()=>null)("employee");const w=async()=>{try{await y().readAccountId("employee"),await v().readUsers(),await M().readSystemStatus()}catch({response:e}){i.push("/?type=employee")}};return I(async()=>{await w()}),(e,u)=>{const o=b,B=A,E=L("router-view");return r(),N("div",j,[a(d,{name:"navbar",mode:"out-in",appear:""},{default:s(()=>[a(o,{"active-page":n(p),"page-list":n(h)},null,8,["active-page","page-list"])]),_:1}),a(E,null,{default:s(({Component:C,route:P})=>[a(d,{name:"main",mode:"out-in",appear:""},{default:s(()=>[n(l)?(r(),f(B,{key:P.path.split("/")[2],title:m[n(p)].title},{default:s(()=>[(r(),f(S(C)))]),_:2},1032,["title"])):D("v-if",!0)]),_:2},1024)]),_:1})])}}}),Q=T(F,[["__scopeId","data-v-484b3117"],["__file","/home/runner/work/peer-assessment/peer-assessment/src/views/EmployeePage.vue"]]);export{Q as default};
