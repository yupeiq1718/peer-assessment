import{x as y,r as u,z as c}from"./index.ca97bf03.js";import{u as a}from"./api.41d29b3e.js";const h=y("users",()=>{const o=u(),i=async e=>{try{const r=await a.post("/user",e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}},l=async()=>{try{const e=await a.get("/users");return o.value=e.data.data,Promise.resolve(e)}catch(e){return Promise.reject(e)}},m=async({id:e,user:r})=>{try{const t=await a.put(`/user/${e}`,r);return Promise.resolve(t)}catch(t){return Promise.reject(t)}},d=async e=>{try{const r=await a.delete(`/user/${e}`);return Promise.resolve(r)}catch(r){return Promise.reject(r)}},n=c(()=>{var e;return(e=o.value)==null?void 0:e.filter(r=>r.activate)}),p=c(()=>e=>{var r;return(r=n.value)==null?void 0:r.find(t=>t.id===e)}),s=u({department:"",roles:0}),v=e=>{s.value=e},f=c(()=>{var e;return(e=n.value)==null?void 0:e.filter(r=>(!s.value.department||r.department===s.value.department)&&(!s.value.roles||r.roles.includes(s.value.roles)))});return{users:o,createUser:i,readUsers:l,updateUser:m,deleteUser:d,user:p,activeUsers:n,filterData:s,setFilterData:v,filteredUsers:f}});export{h as u};
