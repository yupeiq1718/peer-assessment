import{v as a,r as c}from"./index.d2fd2b0d.js";import{u as s}from"./api.f51c78f4.js";const p=a("account",()=>{const o=c();return{accountId:o,readAccountId:async e=>{try{const t=await s.get(`/user/${e}`);return o.value=t.data.data.userId,Promise.resolve(t)}catch(t){return Promise.reject(t)}},readToken:async({type:e,credential:t})=>{try{const r=new FormData;r.append("credential",t);const n=await s.post(`/user/${e}/callback`,r);return window.sessionStorage.setItem("access-token",n.data.token),Promise.resolve(n)}catch(r){return window.sessionStorage.setItem("access-token",""),Promise.reject(r)}},deleteToken:async()=>{try{const e=await s.post("/user/logout");return window.sessionStorage.setItem("access-token",""),Promise.resolve(e)}catch(e){return window.sessionStorage.setItem("access-token",""),Promise.reject(e)}}}});export{p as u};
