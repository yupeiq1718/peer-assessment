import{_ as w}from"./TheSideBar.1c819e92.js";import{x as v,r as j,_ as f,d as x,z as d,l as _,c as S,e as s,t as r,h as u,F as b,W as D,i as l,A as T,k as M,j as N,f as y,g as P,T as V}from"./index.f9275dc0.js";import{u as B}from"./api.29f17cea.js";import{s as m}from"./data.6ab9a877.js";const c=v("system",()=>{const n=j();return{systemStatus:n,readSystemStatus:async()=>{try{const t=await B.get("/system-status-code");return n.value=t.data.data.systemStatusCode,Promise.resolve(t)}catch(t){return Promise.reject(t)}},updateSystemStatus:async t=>{try{const e=await B.put(`/system-status-code/${t}`);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}}}),I={class:"bg-white rounded-2xl px-6 py-4 flex justify-between items-center"},$={class:"text-lg font-bold"},L=s("span",{class:"text-dark"},r("\u4E92\u8A55\u72C0\u614B")+"\uFF1A",-1),z={class:"text-theme"},W={class:"grid grid-cols-1 lg:grid-cols-2"},q={class:"bg-white rounded-2xl px-6 py-4 my-4 mr-2"},G={class:"text-lg font-bold text-dark mb-2"},H=D('<p class="text-dark">\u5404\u89D2\u8272\u53EF\u4F7F\u7528\u7684\u529F\u80FD\u6B0A\u9650</p><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u4E3B\u7BA1\uFF1A</h3><ul class="text-muted"><li>\u4E92\u8A55\u7D50\u679C\u700F\u89BD</li></ul></section><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u7BA1\u7406\u54E1\uFF1A</h3><ul class="text-muted"><li>\u4F7F\u7528\u8005\u8A2D\u5B9A</li><li>\u554F\u5377\u8A2D\u5B9A</li><li>\u4E92\u8A55\u7D50\u679C\u700F\u89BD</li><li>\u7CFB\u7D71\u72C0\u614B\u8A2D\u5B9A</li></ul></section>',3),J={class:"bg-white rounded-2xl px-6 py-4 my-4 ml-2"},K={class:"text-lg font-bold text-dark mb-2"},O=D('<p class="text-dark">\u5404\u89D2\u8272\u53EF\u4F7F\u7528\u7684\u529F\u80FD\u6B0A\u9650</p><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u54E1\u5DE5\uFF1A</h3><ul class="text-muted"><li>\u54E1\u5DE5\u4E92\u8A55\u586B\u5BEB</li></ul></section><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u4E3B\u7BA1\uFF1A</h3><ul class="text-muted"><li>\u4E3B\u7BA1\u4E92\u8A55\u586B\u5BEB</li><li>\u4E92\u8A55\u7D50\u679C\u700F\u89BD</li></ul></section><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u7BA1\u7406\u54E1\uFF1A</h3><ul class="text-muted"><li>\u672A\u586B\u540D\u55AE\u63D0\u9192</li><li>\u4E92\u8A55\u7D50\u679C\u700F\u89BD</li><li>\u7CFB\u7D71\u72C0\u614B\u8A2D\u5B9A</li></ul></section>',4),Q=x({__name:"AdminSystemMain",setup(n){const a=d(()=>c().systemStatus);return(i,t)=>(_(),S(b,null,[s("header",I,[s("h2",$,[L,s("span",z,r(u(m)[u(a)-1].text),1)])]),s("article",W,[s("section",q,[s("h2",G,r(u(m)[0].text)+"\uFF1A ",1),H]),s("section",J,[s("h2",K,r(u(m)[1].text)+"\uFF1A ",1),O])])],64))}}),R=f(Q,[["__file","/home/runner/work/peer-assessment/peer-assessment/src/components/AdminSystemMain.vue"]]),U={class:"absolute w-full h-full pt-6 px-4"},X=x({__name:"AdminSystem",setup(n){const a=d(()=>c().systemStatus),i=d(()=>{switch(a.value){case 0:return[{name:"begin",icon:"begin",function:E}];case 2:return[{name:"finish",icon:"finish",function:g}];default:return[]}}),t=async()=>{try{const o=await c().readSystemStatus()}catch({response:o}){}},e=l("setToastData",()=>null),p=l("setIsLoading",()=>null),A=l("setConfirmData",()=>null),g=()=>{A({isActive:!0,confirm:()=>h(1),text:"\u8ACB\u78BA\u8A8D\u662F\u5426\u8981\u7D50\u675F\u4E92\u8A55\uFF1F"})},E=()=>{A({isActive:!0,confirm:()=>h(2),text:"\u8ACB\u78BA\u8A8D\u662F\u5426\u8981\u958B\u59CB\u4E92\u8A55\uFF1F"})},h=async o=>{try{p(!0);const F=await c().updateSystemStatus(o);await t(),e({isActive:!0,variant:"success",message:"\u66F4\u65B0\u6210\u529F"})}catch({response:F}){e({isActive:!0,variant:"error",message:"\u66F4\u65B0\u5931\u6557"})}finally{p(!1)}};return T(async()=>{await t()}),(o,F)=>{const C=R,k=w;return _(),S(b,null,[s("div",U,[u(a)?(_(),M(C,{key:0})):N("v-if",!0)]),y(V,{name:"sidebar",mode:"out-in",appear:""},{default:P(()=>[y(k,{items:u(i)},null,8,["items"])]),_:1})],64)}}}),et=f(X,[["__file","/home/runner/work/peer-assessment/peer-assessment/src/views/AdminSystem.vue"]]);export{et as default};
