import{_ as b}from"./TheModal.23fd6fef.js";import{_ as x}from"./BaseFormSelect.289b026c.js";import{_ as I,d as A,A as n,u as k,i as _,r as R,k as g,g as q,h as o,o as w,e as E,f as i}from"./index.8e734258.js";import{u as H}from"./vee-validate.esm.ab02f1d5.js";import{u as O}from"./history.0fcab23f.js";import{r as V}from"./data.ff9c2fa5.js";import{a as d,c as S}from"./array.c60c04ee.js";import"./BaseMessage.65557bd2.js";import"./BaseSelect.f6080912.js";import"./api.5131a906.js";const j={class:"m-2"},z=A({__name:"AdminResultsFilter",setup(M){var m,c,p;const u=n(()=>O().histories),{values:f,handleSubmit:F,setFieldValue:r}=H(),y=n(()=>{var e;return(e=u.value)==null?void 0:e.map(t=>({text:t.year,value:t.year}))}),B=n(()=>{var e,t;return(t=(e=u.value)==null?void 0:e.find(s=>s.year===Number(f.year)))==null?void 0:t.filename.map(s=>({text:s,value:s}))}),h=V.slice(0,2),l=k(),a=_("historyFilterData",R({year:NaN,filename:"",roleId:NaN})),v=_("setHistoryFilterData",()=>null);r("year",(m=a.value)==null?void 0:m.year),r("filename",(c=a.value)==null?void 0:c.filename),r("roleId",(p=a.value)==null?void 0:p.roleId);const C=F(e=>{v({year:e.year,filename:e.filename,roleId:e.roleId}),l.push("/admin/results")}),D=()=>l.push("/admin/results");return(e,t)=>{const s=x,N=b;return w(),g(N,{size:"side",onCancel:D,onConfirm:o(C)},{default:q(()=>[E("div",j,[i(s,{name:"year",class:"mb-4",title:"\u5E74\u5EA6",options:o(y),rule:d().required("\u6B64\u6B04\u4F4D\u5FC5\u586B")},null,8,["options","rule"]),i(s,{class:"mb-4",title:"\u6B21\u5225",name:"filename",options:o(B),rule:S().required("\u6B64\u6B04\u4F4D\u5FC5\u586B")},null,8,["options","rule"]),i(s,{class:"mb-4",title:"\u985E\u578B",name:"roleId",options:o(h),rule:d().required("\u6B64\u6B04\u4F4D\u5FC5\u586B")},null,8,["options","rule"])])]),_:1},8,["onConfirm"])}}}),X=I(z,[["__file","/home/runner/work/peer-assessment/peer-assessment/src/views/AdminResultsFilter.vue"]]);export{X as default};
