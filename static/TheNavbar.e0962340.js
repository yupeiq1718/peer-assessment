import{_ as N,d as F,o as i,c as d,e,f as c,g as L,s as z,T as M,t as u,A as $,r as S,i as x,h as t,n as l,F as I,D as A,j as V,z as j,q as P,p as E,m as R}from"./index.8e734258.js";import{u as C}from"./account.ad01628e.js";import{u as U}from"./users.b6dbb148.js";import{r as G}from"./data.ff9c2fa5.js";const H={class:"main fixed left-0 lg:left-12 2xl:left-40 right-0 2xl:right-8 top-12 lg:top-4 bottom-0 lg:bottom-4 bg-white lg:rounded-l-2xl 2xl:rounded-2xl shadow-md"},J={class:"main-content absolute left-4 right-4 lg:left-20 2xl:left-12 lg:right-22 2xl:right-32 top-10 lg:top-12 bottom-4 lg:bottom-8 bg-muted-light border-4 border-muted rounded-2xl shadow-md"},K={class:"absolute inset-4 overflow-auto"},O={class:"absolute left-1/2 -top-8 transform -translate-x-1/2 px-8 py-2 bg-muted text-white rounded-2xl text-xl lg:text-2xl font-bold whitespace-nowrap shadow-md"},Q=F({__name:"TheMain",props:{title:{type:String,required:!0}},setup(a){const p=a;return(f,g)=>(i(),d("main",H,[e("div",J,[c(M,{name:"article",mode:"out-in",appear:""},{default:L(()=>[e("article",K,[z(f.$slots,"default",{},void 0,!0)])]),_:3}),e("h1",O,u(p.title),1)])]))}}),he=N(Q,[["__scopeId","data-v-64a4526c"],["__file","/home/runner/work/peer-assessment/peer-assessment/src/components/TheMain.vue"]]);const W=a=>(E("data-v-30300f61"),a=a(),R(),a),X={class:"fixed lg:hidden left-0 top-0 flex items-center justify-center w-12 h-12"},Y={class:"absolute top-4 flex justify-start items-center border-b-2 border-theme pb-4 duration-500"},Z=["src"],ee={class:"text-lg font-bold text-dark"},te={class:"text-sm text-dark"},se={class:"text-xs text-muted"},oe={key:0,class:"absolute inset-y-28 overflow-hidden flex flex-col justify-between items-center duration-1000"},ne=["onClick"],le={class:"absolute bottom-4 border-t-2 border-theme pt-4"},ae=W(()=>e("h2",null,u("\u767B\u51FA"),-1)),re=[ae],ie=F({__name:"TheNavbar",props:{activePage:{type:String,required:!0},pageList:{type:Array,required:!0}},setup(a){const p=a,f=$(()=>r=>r===p.activePage?"bg-theme fill-white text-white":"bg-theme-light fill-theme text-theme"),g=r=>j.push(r),m=$(()=>U().user(Number(C().accountId))),s=S("folded"),v=r=>{s.value=r},D=x("type",S("admin")),o={navBar:{folded:"transform -translate-x-full lg:translate-x-0 w-24",expanded:"w-[18rem]"},list:{folded:"py-4",expanded:"py-2"},logo:{folded:"w-0",expanded:"w-48"},version:{folded:"hidden",expanded:"inline-block"},icon:{folded:"w-8 h-8",expanded:"w-6 h-6"},title:{folded:"w-0",expanded:"px-4 w-48"},logoutButton:{folded:"py-4 w-16",expanded:"py-2 w-64"},logoutTitle:{folded:"w-0",expanded:"px-4 w-24"},profile:{folded:"w-0",expanded:"px-2 w-48"}},w=x("setToastData",()=>null),b=x("setIsLoading",()=>null),q=async()=>{try{b(!0);const r=await C().deleteToken();w({isActive:!0,variant:"success",message:"\u767B\u51FA\u6210\u529F"})}catch{w({isActive:!0,variant:"error",message:"\u767B\u51FA\u5931\u6557"})}finally{b(!1),j.push(`/?type=${D.value}`)}};return(r,h)=>{var y,k,T,B;const _=P;return i(),d("nav",{onMouseenter:h[0]||(h[0]=n=>v("expanded")),onMouseleave:h[1]||(h[1]=n=>v("folded"))},[e("section",X,[c(_,{name:"menu",class:"w-8 h-8 fill-white"})]),e("section",{class:l(["navbar fixed left-0 2xl:left-8 inset-y-0 lg:inset-y-12 z-10 bg-theme-light rounded-r-2xl 2xl:rounded-2xl px-4 duration-500 shadow-md",o.navBar[t(s)]])},[e("header",Y,[e("img",{class:"image relative rounded-full w-16 h-16",src:((y=t(m))==null?void 0:y.picture)||"/user.png",alt:"user"},null,8,Z),e("div",{class:l([o.profile[t(s)],"h-16 overflow-hidden duration-500 whitespace-nowrap"])},[e("h2",ee,u((k=t(m))==null?void 0:k.name),1),e("h3",te,[(i(!0),d(I,null,A((T=t(m))==null?void 0:T.roles,n=>(i(),d("span",{key:n,class:"mr-1"},u(t(G)[n-1].text),1))),128))]),e("p",se,u((B=t(m))==null?void 0:B.email),1)],2)]),c(M,{name:"navbar-content",mode:"out-in",appear:""},{default:L(()=>[a.pageList.length?(i(),d("article",oe,[e("ul",null,[(i(!0),d(I,null,A(p.pageList,n=>(i(),d("li",{key:n.name,role:"button",class:l(["p-4 rounded-2xl flex justify-start items-center duration-500",[t(f)(n.name),o.list[t(s)]]]),onClick:de=>g(n.url)},[c(_,{name:n.icon,class:l([o.icon[t(s)],"duration-500"])},null,8,["name","class"]),e("span",{class:l(["text-lg h-7 font-bold overflow-hidden duration-500",o.title[t(s)]])},[e("h2",null,u(n.title),1)],2)],10,ne))),128))]),e("div",null,[c(_,{class:l(["fill-theme h-12 duration-500",o.logo[t(s)]]),name:"logo"},null,8,["class"])])])):V("v-if",!0)]),_:1}),e("footer",le,[e("span",{class:l(["absolute -top-6 right-0 text-theme text-xs",o.version[t(s)]])},u("v1.3.0"),3),e("button",{class:l(["image rounded-2xl p-4 flex justify-center items-center bg-white fill-theme text-theme duration-500",o.logoutButton[t(s)]]),onClick:q},[c(_,{name:"logout",class:l(o.icon[t(s)])},null,8,["class"]),e("span",{class:l(["text-lg h-7 font-bold overflow-hidden",o.logoutTitle[t(s)]])},re,2)],2)])],2)],32)}}}),_e=N(ie,[["__scopeId","data-v-30300f61"],["__file","/home/runner/work/peer-assessment/peer-assessment/src/components/TheNavbar.vue"]]);export{_e as _,he as a};
