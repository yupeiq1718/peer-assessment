import{P,r as u,m as c}from"./index.bfd7bb5a.js";import{u as a}from"./api.9b010a04.js";const h=P("users",()=>{const o=u(),l=async e=>{try{const r=await a.post("/user/",e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}},i=async()=>{try{const e=await a.get("/user/all");return o.value=e.data.data,Promise.resolve(e)}catch(e){return Promise.reject(e)}},m=async({id:e,user:r})=>{try{const s=await a.put(`/user/${e}`,r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}},d=async e=>{try{const r=await a.delete(`/user/${e}`);return Promise.resolve(r)}catch(r){return Promise.reject(r)}},n=c(()=>{var e;return(e=o.value)==null?void 0:e.filter(r=>r.activate)}),p=c(()=>e=>{var r;return(r=n.value)==null?void 0:r.find(s=>s.id===e)}),t=u({department:"",role:0}),v=e=>{t.value=e},f=c(()=>{var e;return(e=n.value)==null?void 0:e.filter(r=>(!t.value.department||r.department===t.value.department)&&(!t.value.role||r.role.includes(t.value.role)))});return{users:o,createUser:l,readUsers:i,updateUser:m,deleteUser:d,user:p,activeUsers:n,filterData:t,setFilterData:v,filteredUsers:f}});export{h as u};
