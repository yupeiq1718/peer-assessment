import{_ as k}from"./TheSideBar.5a57433e.js";import{x as v,r as w,_ as f,d as x,z as d,l as _,c as S,e as s,t as r,h as u,U as b,i as l,A as j,k as T,j as M,f as y,g as N,T as P,F as V}from"./index.ca97bf03.js";import{u as B}from"./api.41d29b3e.js";import{s as m}from"./data.d5f5edba.js";const c=v("system",()=>{const n=w();return{systemStatus:n,readSystemStatus:async()=>{try{const t=await B.get("/system-status-code");return n.value=t.data.data.systemStatusCode,Promise.resolve(t)}catch(t){return Promise.reject(t)}},updateSystemStatus:async t=>{try{const e=await B.put(`/system-status-code/${t}`);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}}}),I={class:"mt-8"},$={class:"mx-4 bg-white rounded-2xl px-6 py-4 flex justify-between items-center"},L={class:"text-lg font-bold"},z=s("span",{class:"text-dark"},r("\u4E92\u8A55\u72C0\u614B")+"\uFF1A",-1),U={class:"text-theme"},q={class:"grid grid-cols-1 lg:grid-cols-2"},G={class:"bg-white rounded-2xl px-6 py-4 m-4 mr-2"},H={class:"text-lg font-bold text-dark mb-2"},J=b('<p class="text-dark">\u5404\u89D2\u8272\u53EF\u4F7F\u7528\u7684\u529F\u80FD\u6B0A\u9650</p><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u4E3B\u7BA1\uFF1A</h3><ul class="text-muted"><li>\u4E92\u8A55\u7D50\u679C\u700F\u89BD</li></ul></section><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u7BA1\u7406\u54E1\uFF1A</h3><ul class="text-muted"><li>\u4F7F\u7528\u8005\u8A2D\u5B9A</li><li>\u554F\u5377\u8A2D\u5B9A</li><li>\u4E92\u8A55\u7D50\u679C\u700F\u89BD</li><li>\u7CFB\u7D71\u72C0\u614B\u8A2D\u5B9A</li></ul></section>',3),K={class:"bg-white rounded-2xl px-6 py-4 m-4 ml-2"},O={class:"text-lg font-bold text-dark mb-2"},Q=b('<p class="text-dark">\u5404\u89D2\u8272\u53EF\u4F7F\u7528\u7684\u529F\u80FD\u6B0A\u9650</p><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u54E1\u5DE5\uFF1A</h3><ul class="text-muted"><li>\u54E1\u5DE5\u4E92\u8A55\u586B\u5BEB</li></ul></section><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u4E3B\u7BA1\uFF1A</h3><ul class="text-muted"><li>\u4E3B\u7BA1\u4E92\u8A55\u586B\u5BEB</li><li>\u4E92\u8A55\u7D50\u679C\u700F\u89BD</li></ul></section><section class="my-4 border-2 border-light p-4"><h3 class="font-bold text-dark mb-2">\u7BA1\u7406\u54E1\uFF1A</h3><ul class="text-muted"><li>\u672A\u586B\u540D\u55AE\u63D0\u9192</li><li>\u4E92\u8A55\u7D50\u679C\u700F\u89BD</li><li>\u7CFB\u7D71\u72C0\u614B\u8A2D\u5B9A</li></ul></section>',4),R=x({__name:"AdminSystemMain",setup(n){const a=d(()=>c().systemStatus);return(i,t)=>(_(),S("div",I,[s("header",$,[s("h2",L,[z,s("span",U,r(u(m)[u(a)-1].text),1)])]),s("article",q,[s("section",G,[s("h2",H,r(u(m)[0].text)+"\uFF1A ",1),J]),s("section",K,[s("h2",O,r(u(m)[1].text)+"\uFF1A ",1),Q])])]))}}),W=f(R,[["__file","/home/runner/work/peer-assessment/peer-assessment/src/components/AdminSystemMain.vue"]]),X={class:"absolute w-full h-full"},Y=x({__name:"AdminSystem",setup(n){const a=d(()=>c().systemStatus),i=d(()=>{switch(a.value){case 1:return[{name:"begin",icon:"begin",function:g}];case 2:return[{name:"finish",icon:"finish",function:D}]}}),t=async()=>{try{const o=await c().readSystemStatus()}catch({response:o}){}},e=l("setToastData",()=>null),p=l("setIsLoading",()=>null),h=l("setConfirmData",()=>null),D=()=>{h({isActive:!0,confirm:()=>A(1),text:"\u8ACB\u78BA\u8A8D\u662F\u5426\u8981\u7D50\u675F\u4E92\u8A55\uFF1F"})},g=()=>{h({isActive:!0,confirm:()=>A(2),text:"\u8ACB\u78BA\u8A8D\u662F\u5426\u8981\u958B\u59CB\u4E92\u8A55\uFF1F"})},A=async o=>{try{p(!0);const F=await c().updateSystemStatus(o);await t(),e({isActive:!0,variant:"success",message:"\u66F4\u65B0\u6210\u529F"})}catch({response:F}){e({isActive:!0,variant:"error",message:"\u66F4\u65B0\u5931\u6557"})}finally{p(!1)}};return j(async()=>{await t()}),(o,F)=>{const E=W,C=k;return _(),S(V,null,[s("div",X,[u(a)?(_(),T(E,{key:0})):M("v-if",!0)]),y(P,{name:"sidebar",mode:"out-in",appear:""},{default:N(()=>[y(C,{items:u(i)},null,8,["items"])]),_:1})],64)}}}),ut=f(Y,[["__file","/home/runner/work/peer-assessment/peer-assessment/src/views/AdminSystem.vue"]]);export{ut as default};
