import{_ as C,a as y}from"./TheNavbar.bbc032ce.js";import{_ as P,d as T,z as o,r as b,u as k,i as c,A as x,b as D,c as q,f as t,g as s,T as l,l as a,h as n,k as m,B as E,j as I}from"./index.fe3aa23c.js";import{u as p}from"./account.6254ada4.js";import{u as F}from"./users.7cf8a190.js";import"./data.054ee288.js";import"./api.a4fc115a.js";const L={class:"fixed top-0 bottom-0 bg-theme w-full"},M=T({__name:"AdminPage",setup(N){const _=o(()=>p().accountId),d=b(["list","users","results","timeline","question"]),i=k(),u=o(()=>String(i.currentRoute.value.path.split("/")[2]).toLowerCase()),r={list:{title:"\u672A\u586B\u540D\u55AE",url:"/admin/list",icon:"list"},users:{title:"\u4F7F\u7528\u8005\u8A2D\u5B9A",url:"/admin/users",icon:"users"},results:{title:"\u4E92\u8A55\u7D50\u679C",url:"/admin/results",icon:"result"},timeline:{title:"\u958B\u653E\u6642\u9593\u8A2D\u5B9A",url:"/admin/timeline",icon:"calendar"},question:{title:"\u554F\u5377\u8A2D\u5B9A",url:"/admin/question/1",icon:"question"}},f=o(()=>d.value.map(e=>({name:e,...r[e]})));c("setThemeColor",()=>null)("admin"),c("switchPosition",()=>null)("admin");const h=async()=>{try{await p().readAccountId(),await F().readUsers()}catch({response:e}){i.push("/?type=admin")}};return x(async()=>{await h()}),(e,U)=>{const g=C,v=y,A=D("router-view");return a(),q("div",L,[t(l,{name:"navbar",mode:"out-in",appear:""},{default:s(()=>[t(g,{"active-page":n(u),"page-list":n(f)},null,8,["active-page","page-list"])]),_:1}),t(A,null,{default:s(({Component:w,route:B})=>[t(l,{name:"main",mode:"out-in",appear:""},{default:s(()=>[n(_)?(a(),m(v,{key:B.path.split("/")[2],title:r[n(u)].title},{default:s(()=>[(a(),m(E(w)))]),_:2},1032,["title"])):I("v-if",!0)]),_:2},1024)]),_:1})])}}}),K=P(M,[["__scopeId","data-v-316cf2b4"],["__file","/home/runner/work/peer-assessment/peer-assessment/src/views/AdminPage.vue"]]);export{K as default};
