import{_ as $,d as S,i as d,r as q,u as F,a as P,w as L,o as j,b as H,c as x,e,f as y,g as _,h as o,n as N,t as s,j as u,k as m,l as a,p as V,m as T,q as p,s as z}from"./index.a32bcd10.js";import{_ as G}from"./BaseButton.2499b5e7.js";import{u as M}from"./account.ef632e62.js";import"./api.359bc57d.js";const g=r=>(V("data-v-c6bdc170"),r=r(),T(),r),R={class:"fixed w-full inset-y-0 bg-theme duration-1000 flex justify-center items-center"},J={class:"outer absolute container max-h-full h-[40rem]"},K={class:"inner absolute inset-0 lg:inset-4 2xl:inset-8"},O={class:"header absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full h-3/4 hidden lg:block rounded-2xl bg-theme-light shadow-md duration-1000"},Q={class:"header-content absolute top-1/2 left-[8.33%] transform -translate-y-1/2 hidden lg:block w-1/3 text-center"},U=g(()=>e("p",{class:"text-muted mb-4 text-lg"},s("\u6211\u60F3\u8981\u586B\u5BEB\u4E92\u8A55\u554F\u5377"),-1)),W=p(s("\u5207\u63DB\u54E1\u5DE5\u767B\u5165")),X={class:"header-content absolute top-1/2 right-[8.33%] transform -translate-y-1/2 hidden lg:block w-1/3 text-center"},Y=g(()=>e("p",{class:"text-muted mb-4 text-lg"},s("\u6211\u60F3\u8981\u8A2D\u5B9A\u4E92\u8A55\u7CFB\u7D71"),-1)),Z=p(s("\u5207\u63DB\u7BA1\u7406\u54E1\u767B\u5165")),ee={class:"article-content"},te={class:"article-content text-center text-dark"},oe=g(()=>e("h1",{class:"text-xl lg:text-2xl font-bold mb-4"},s("\u5149\u79BE\u611F\u77E5\u4E92\u8A55\u7CFB\u7D71"),-1)),se={key:0},ne={key:1},ae={class:"article-content text-center"},ue=g(()=>e("br",null,null,-1)),ie=p(s("\u5207\u63DB\u54E1\u5DE5\u767B\u5165")),le=p(s("\u5207\u63DB\u7BA1\u7406\u54E1\u767B\u5165")),re=S({__name:"HomePage",setup(r){const t=d("type",q("admin")),i=d("switchPosition",()=>null),B={employee:"left-1/12 right-1/12 lg:right-5/12 xl:right-1/2 2xl:right-7/12",admin:"left-1/12  right-1/12 lg:left-5/12 xl:left-1/2 2xl:left-7/12"},h=F(),l=P();L(t,()=>{l.query.token===void 0&&h.push(`/?type=${t.value}`)}),i(l.query.type||"employee");const v=d("setIsLoading",()=>null),w=d("setToastData",()=>null),E=async()=>{l.query.token&&window.sessionStorage.setItem("access-token",String(l.query.token));try{v(!0),await M().readAccountId(t.value),h.push(`/${t.value}`)}catch{window.sessionStorage.setItem("access-token",""),w({isActive:!0,variant:"error",message:"\u767B\u5165\u5931\u6557"}),h.push(`?type=${t.value}`)}finally{v(!1)}},C={login_uri:"https://peerreview.oexpo.io/backend_staging/user/employee/callback",ux_mode:"redirect"},D={login_uri:"https://peerreview.oexpo.io/backend_staging/user/admin/callback",ux_mode:"redirect"},b={size:"large",shape:"circle",width:192};return j(()=>{l.query.token!==void 0&&E()}),(I,n)=>{const c=G,A=z,k=H("GoogleLogin");return a(),x("div",R,[e("div",J,[e("div",K,[e("header",O,[e("section",Q,[U,y(c,{variant:"muted",class:"bg-transparent text-md",onClick:n[0]||(n[0]=f=>o(i)("employee"))},{default:_(()=>[W]),_:1})]),e("section",X,[Y,y(c,{variant:"muted",class:"bg-transparent text-md",onClick:n[1]||(n[1]=f=>o(i)("admin"))},{default:_(()=>[Z]),_:1})])]),e("article",{class:N(["article absolute bg-white inset-y-0 rounded-2xl shadow-md duration-1000 px-8 flex justify-evenly items-center flex-col",B[o(t)]])},[e("header",ee,[y(A,{name:"logo",class:"w-full fill-theme duration-1000"})]),e("article",te,[oe,o(t)==="employee"?(a(),x("p",se,s("\u54E1\u5DE5\u767B\u5165"))):u("v-if",!0),o(t)==="admin"?(a(),x("p",ne,s("\u7BA1\u7406\u54E1\u767B\u5165"))):u("v-if",!0)]),e("footer",ae,[o(t)==="employee"?(a(),m(k,{key:0,class:"h-10","id-configuration":C,"button-config":b})):u("v-if",!0),o(t)==="admin"?(a(),m(k,{key:1,class:"h-10","id-configuration":D,"button-config":b})):u("v-if",!0),ue,o(t)==="admin"?(a(),m(c,{key:2,variant:"theme",class:"bg-transparent text-md w-48 lg:hidden mt-2",onClick:n[2]||(n[2]=f=>o(i)("employee"))},{default:_(()=>[ie]),_:1})):u("v-if",!0),o(t)==="employee"?(a(),m(c,{key:3,variant:"theme",class:"bg-transparent text-md w-48 lg:hidden mt-2",onClick:n[3]||(n[3]=f=>o(i)("admin"))},{default:_(()=>[le]),_:1})):u("v-if",!0)])],2)])])])}}}),pe=$(re,[["__scopeId","data-v-c6bdc170"],["__file","/home/runner/work/peer-assessment/peer-assessment/src/views/HomePage.vue"]]);export{pe as default};
